{% extends 'app/base.html' %}

{% block main-content %}
<div class="container mt-4">
    <h2>üìä Dashboard - Th√¥ng tin t·ªïng quan</h2>
    <hr>

    <div class="row">
        <!-- S·ªë l∆∞·ª£ng b√†i vi·∫øt -->
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h5>S·ªë l∆∞·ª£ng b√†i vi·∫øt</h5>
                </div>
                <div class="card-body">
                    <p class="card-text">{{ total_posts }} b√†i vi·∫øt</p>
                </div>
            </div>
        </div>

        <!-- S·ªë l∆∞·ª£ng ng∆∞·ªùi d√πng -->
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h5>S·ªë l∆∞·ª£ng ng∆∞·ªùi d√πng</h5>
                </div>
                <div class="card-body">
                    <p class="card-text">{{ total_users }} ng∆∞·ªùi d√πng</p>
                </div>
            </div>
        </div>

        <!-- B√†i vi·∫øt g·∫ßn ƒë√¢y -->
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h5>B√†i vi·∫øt g·∫ßn ƒë√¢y</h5>
                </div>
                <div class="card-body">
                    <ul>
                        {% for post in recent_posts %}
                            <li><a href="{% url 'post_detail' post.id %}">{{ post.title }}</a></li>
                        {% empty %}
                            <li>Ch∆∞a c√≥ b√†i vi·∫øt n√†o.</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <hr>

    <div class="row">
        <!-- Ng∆∞·ªùi d√πng g·∫ßn ƒë√¢y -->
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>Ng∆∞·ªùi d√πng g·∫ßn ƒë√¢y</h5>
                </div>
                <div class="card-body">
                    <ul>
                        {% for user in recent_users %}
                            <li>{{ user.username }} (Gia nh·∫≠p: {{ user.date_joined|date:"d/m/Y" }})</li>
                        {% empty %}
                            <li>Ch∆∞a c√≥ ng∆∞·ªùi d√πng n√†o.</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- B√†i vi·∫øt ch∆∞a ƒë∆∞·ª£c duy·ªát (n·∫øu c√≥ t√≠nh nƒÉng duy·ªát b√†i) -->
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>B√†i vi·∫øt ch∆∞a ƒë∆∞·ª£c duy·ªát</h5>
                </div>
                <div class="card-body">
                    <ul>
                        <!-- Gi·∫£ s·ª≠ c√≥ m·ªôt tr∆∞·ªùng 'is_approved' ƒë·ªÉ duy·ªát b√†i -->
                        {% for post in posts_without_approval %}
                            <li><a href="{% url 'post_detail' post.id %}">{{ post.title }}</a></li>
                        {% empty %}
                            <li>T·∫•t c·∫£ b√†i vi·∫øt ƒë√£ ƒë∆∞·ª£c duy·ªát.</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
